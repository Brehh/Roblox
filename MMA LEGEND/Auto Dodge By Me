_G.on = true

local me = game.Players.LocalPlayer
local character = me.Character
local target = character.Target

me.CharacterAdded:Connect(function(c) 
    character = c
    target = c:WaitForChild("Target",3)
end)





while _G.on and task.wait() do
    if target.Value then
        local real = target.Value
        local root = real.HumanoidRootPart
        local myRoot = game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
        if not (root and myRoot) then continue end
        local high = real:FindFirstChild('Highlight')
        if not high then continue end
        if high.FillColor == Color3.fromRGB(204, 204, 204) then 
            continue 
        elseif high.FillColor == Color3.fromRGB(204, 0, 0) then
            if high.FillTransparency > 0.9 then continue end
            repeat task.wait() 
            until high.FillTransparency > 0.9 or not high or not high.Parent
            if (myRoot.Position - root.Position).Magnitude < 16 then
                game:GetService("ReplicatedStorage").Remotes.PerformDodge:FireServer("LeftDodge")
            end
        else
            if high.FillTransparency > 0.75 then continue end
            repeat task.wait() 
            until high.FillTransparency > 0.75 or not high or not high.Parent
            if (myRoot.Position - root.Position).Magnitude < 12 then
                game:GetService("ReplicatedStorage").Remotes.PerformDodge:FireServer("LeftDodge")
            end
        end
        
    end
end
